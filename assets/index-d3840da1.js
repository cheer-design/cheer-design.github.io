import{_ as $e,E as te,o as H,c as K,d as P,t as Z,e as ze,p as Dt,h as Rt,i as Me,j as Xt,a as Q,w as Ce,F as Ct,r as jt,u as ke,b as Ot,m as Zt,N as Qt,P as Kt,q as Gt,I as ge,S as Jt,s as ei,v as ti}from"./FullLoading-28025c67.js";import{_ as ii,S as ni,a as si,A as ri}from"./yellow-left-arrow-101eedde.js";import{c as ai,G as oi}from"./home-855e1947.js";import{f as li}from"./fetchJson-f1460760.js";import"./ArrowRightIcon-72474433.js";function Vn(){import("data:text/javascript,")}const hi={props:{state:{type:Object}},setup(s){return{tagText:te(()=>{var e,i;return(i=(e=s.state.metaData)==null?void 0:e.tags)==null?void 0:i.join(" · ")}),dateText:te(()=>{var e;return(e=s.state.metaData)==null?void 0:e.date}),titleText:te(()=>{var e;return(e=s.state.metaData)==null?void 0:e.title}),subtitleText:te(()=>{var e;return(e=s.state.metaData)==null?void 0:e.subtitle}),authorNameEnText:te(()=>{var e,i,t;return(t=(i=(e=s.state.metaData)==null?void 0:e.author)==null?void 0:i.name)==null?void 0:t.en}),authorNameZhText:te(()=>{var e,i,t;return(t=(i=(e=s.state.metaData)==null?void 0:e.author)==null?void 0:i.name)==null?void 0:t.zh}),authorAvatarUrl:te(()=>{var e,i;return(i=(e=s.state.metaData)==null?void 0:e.author)==null?void 0:i.avatarUrl})}}},ci=s=>(Dt("data-v-8e8e81c9"),s=s(),Rt(),s),ui={class:"post-head-container"},fi={class:"tag-date-text text-20px font-bold opacity-1/3 flex justify-between items-center"},di={class:"text-58px title"},pi={class:"text-30px subtitle"},gi={class:"author"},mi=["src"],vi={class:"author-name-en text-18px font-bold"},bi=ci(()=>P("br",null,null,-1)),wi={class:"author-name-zh text-14px opacity-1/2"};function xi(s,e,i,t,n,r){return H(),K("div",ui,[P("div",fi,[P("span",null,Z(t.tagText),1),P("span",null,Z(t.dateText),1)]),P("div",di,Z(t.titleText),1),P("div",pi,Z(t.subtitleText),1),P("div",gi,[t.authorAvatarUrl?(H(),K("img",{key:0,src:t.authorAvatarUrl,alt:""},null,8,mi)):ze("",!0),P("span",vi,Z(t.authorNameEnText),1),bi,P("span",wi,Z(t.authorNameZhText),1)])])}const ki=$e(hi,[["render",xi],["__scopeId","data-v-8e8e81c9"]]);/*!
 * Viewer.js v1.11.2
 * https://fengyuanchen.github.io/viewerjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-01-01T10:14:49.638Z
 */function Ze(s,e){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(s);e&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),i.push.apply(i,t)}return i}function Be(s){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Ze(Object(i),!0).forEach(function(t){Ei(s,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):Ze(Object(i)).forEach(function(t){Object.defineProperty(s,t,Object.getOwnPropertyDescriptor(i,t))})}return s}function Ve(s){return Ve=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve(s)}function yi(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")}function Qe(s,e){for(var i=0;i<e.length;i++){var t=e[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(s,Nt(t.key),t)}}function _i(s,e,i){return e&&Qe(s.prototype,e),i&&Qe(s,i),Object.defineProperty(s,"prototype",{writable:!1}),s}function Ei(s,e,i){return e=Nt(e),e in s?Object.defineProperty(s,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[e]=i,s}function Si(s,e){if(typeof s!="object"||s===null)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var t=i.call(s,e||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}function Nt(s){var e=Si(s,"string");return typeof e=="symbol"?e:String(e)}var Ke={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},Ti='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',Le=typeof window<"u"&&typeof window.document<"u",G=Le?window:{},ce=Le&&G.document.documentElement?"ontouchstart"in G.document.documentElement:!1,He=Le?"PointerEvent"in G:!1,x="viewer",Ie="move",$t="switch",me="zoom",ye="".concat(x,"-active"),zi="".concat(x,"-close"),Ae="".concat(x,"-fade"),Fe="".concat(x,"-fixed"),Ii="".concat(x,"-fullscreen"),Ge="".concat(x,"-fullscreen-exit"),ie="".concat(x,"-hide"),Ai="".concat(x,"-hide-md-down"),Di="".concat(x,"-hide-sm-down"),Ri="".concat(x,"-hide-xs-down"),q="".concat(x,"-in"),ve="".concat(x,"-invisible"),ue="".concat(x,"-loading"),Ci="".concat(x,"-move"),Je="".concat(x,"-open"),re="".concat(x,"-show"),C="".concat(x,"-transition"),fe="click",qe="dblclick",et="dragstart",tt="focusin",it="keydown",U="load",ne="error",Oi=ce?"touchend touchcancel":"mouseup",Ni=ce?"touchmove":"mousemove",$i=ce?"touchstart":"mousedown",nt=He?"pointerdown":$i,st=He?"pointermove":Ni,rt=He?"pointerup pointercancel":Oi,at="resize",B="transitionend",ot="wheel",lt="ready",ht="show",ct="shown",ut="hide",ft="hidden",dt="view",be="viewed",pt="move",gt="moved",mt="rotate",vt="rotated",bt="scale",wt="scaled",xt="zoom",kt="zoomed",yt="play",_t="stop",Oe="".concat(x,"Action"),We=/\s\s*/,_e=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function we(s){return typeof s=="string"}var Li=Number.isNaN||G.isNaN;function R(s){return typeof s=="number"&&!Li(s)}function oe(s){return typeof s>"u"}function de(s){return Ve(s)==="object"&&s!==null}var Pi=Object.prototype.hasOwnProperty;function le(s){if(!de(s))return!1;try{var e=s.constructor,i=e.prototype;return e&&i&&Pi.call(i,"isPrototypeOf")}catch(t){return!1}}function T(s){return typeof s=="function"}function A(s,e){if(s&&T(e))if(Array.isArray(s)||R(s.length)){var i=s.length,t;for(t=0;t<i&&e.call(s,s[t],t,s)!==!1;t+=1);}else de(s)&&Object.keys(s).forEach(function(n){e.call(s,s[n],n,s)});return s}var F=Object.assign||function(e){for(var i=arguments.length,t=new Array(i>1?i-1:0),n=1;n<i;n++)t[n-1]=arguments[n];return de(e)&&t.length>0&&t.forEach(function(r){de(r)&&Object.keys(r).forEach(function(a){e[a]=r[a]})}),e},Mi=/^(?:width|height|left|top|marginLeft|marginTop)$/;function W(s,e){var i=s.style;A(e,function(t,n){Mi.test(n)&&R(t)&&(t+="px"),i[n]=t})}function Vi(s){return we(s)?s.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):s}function ae(s,e){return!s||!e?!1:s.classList?s.classList.contains(e):s.className.indexOf(e)>-1}function v(s,e){if(!(!s||!e)){if(R(s.length)){A(s,function(t){v(t,e)});return}if(s.classList){s.classList.add(e);return}var i=s.className.trim();i?i.indexOf(e)<0&&(s.className="".concat(i," ").concat(e)):s.className=e}}function S(s,e){if(!(!s||!e)){if(R(s.length)){A(s,function(i){S(i,e)});return}if(s.classList){s.classList.remove(e);return}s.className.indexOf(e)>=0&&(s.className=s.className.replace(e,""))}}function xe(s,e,i){if(e){if(R(s.length)){A(s,function(t){xe(t,e,i)});return}i?v(s,e):S(s,e)}}var Fi=/([a-z\d])([A-Z])/g;function Ye(s){return s.replace(Fi,"$1-$2").toLowerCase()}function he(s,e){return de(s[e])?s[e]:s.dataset?s.dataset[e]:s.getAttribute("data-".concat(Ye(e)))}function Ue(s,e,i){de(i)?s[e]=i:s.dataset?s.dataset[e]=i:s.setAttribute("data-".concat(Ye(e)),i)}var Lt=function(){var s=!1;if(Le){var e=!1,i=function(){},t=Object.defineProperty({},"once",{get:function(){return s=!0,e},set:function(r){e=r}});G.addEventListener("test",i,t),G.removeEventListener("test",i,t)}return s}();function z(s,e,i){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},n=i;e.trim().split(We).forEach(function(r){if(!Lt){var a=s.listeners;a&&a[r]&&a[r][i]&&(n=a[r][i],delete a[r][i],Object.keys(a[r]).length===0&&delete a[r],Object.keys(a).length===0&&delete s.listeners)}s.removeEventListener(r,n,t)})}function b(s,e,i){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},n=i;e.trim().split(We).forEach(function(r){if(t.once&&!Lt){var a=s.listeners,o=a===void 0?{}:a;n=function(){delete o[r][i],s.removeEventListener(r,n,t);for(var c=arguments.length,h=new Array(c),u=0;u<c;u++)h[u]=arguments[u];i.apply(s,h)},o[r]||(o[r]={}),o[r][i]&&s.removeEventListener(r,o[r][i],t),o[r][i]=n,s.listeners=o}s.addEventListener(r,n,t)})}function N(s,e,i,t){var n;return T(Event)&&T(CustomEvent)?n=new CustomEvent(e,Be({bubbles:!0,cancelable:!0,detail:i},t)):(n=document.createEvent("CustomEvent"),n.initCustomEvent(e,!0,!0,i)),s.dispatchEvent(n)}function qi(s){var e=s.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}function De(s){var e=s.rotate,i=s.scaleX,t=s.scaleY,n=s.translateX,r=s.translateY,a=[];R(n)&&n!==0&&a.push("translateX(".concat(n,"px)")),R(r)&&r!==0&&a.push("translateY(".concat(r,"px)")),R(e)&&e!==0&&a.push("rotate(".concat(e,"deg)")),R(i)&&i!==1&&a.push("scaleX(".concat(i,")")),R(t)&&t!==1&&a.push("scaleY(".concat(t,")"));var o=a.length?a.join(" "):"none";return{WebkitTransform:o,msTransform:o,transform:o}}function Ui(s){return we(s)?decodeURIComponent(s.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var Pe=G.navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(G.navigator.userAgent);function Pt(s,e,i){var t=document.createElement("img");if(s.naturalWidth&&!Pe)return i(s.naturalWidth,s.naturalHeight),t;var n=document.body||document.documentElement;return t.onload=function(){i(t.width,t.height),Pe||n.removeChild(t)},A(e.inheritedAttributes,function(r){var a=s.getAttribute(r);a!==null&&t.setAttribute(r,a)}),t.src=s.src,Pe||(t.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",n.appendChild(t)),t}function Ee(s){switch(s){case 2:return Ri;case 3:return Di;case 4:return Ai;default:return""}}function Bi(s){var e=Be({},s),i=[];return A(s,function(t,n){delete e[n],A(e,function(r){var a=Math.abs(t.startX-r.startX),o=Math.abs(t.startY-r.startY),l=Math.abs(t.endX-r.endX),c=Math.abs(t.endY-r.endY),h=Math.sqrt(a*a+o*o),u=Math.sqrt(l*l+c*c),p=(u-h)/h;i.push(p)})}),i.sort(function(t,n){return Math.abs(t)<Math.abs(n)}),i[0]}function Se(s,e){var i=s.pageX,t=s.pageY,n={endX:i,endY:t};return e?n:Be({timeStamp:Date.now(),startX:i,startY:t},n)}function Hi(s){var e=0,i=0,t=0;return A(s,function(n){var r=n.startX,a=n.startY;e+=r,i+=a,t+=1}),e/=t,i/=t,{pageX:e,pageY:i}}var Wi={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var e=this.element.ownerDocument,i=e.body||e.documentElement;this.body=i,this.scrollbarWidth=window.innerWidth-e.documentElement.clientWidth,this.initialBodyPaddingRight=i.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(i).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var e=this.options,i=this.parent,t;e.inline&&(t={width:Math.max(i.offsetWidth,e.minWidth),height:Math.max(i.offsetHeight,e.minHeight)},this.parentData=t),(this.fulled||!t)&&(t=this.containerData),this.viewerData=F({},t)},renderViewer:function(){this.options.inline&&!this.fulled&&W(this.viewer,this.viewerData)},initList:function(){var e=this,i=this.element,t=this.options,n=this.list,r=[];n.innerHTML="",A(this.images,function(a,o){var l=a.src,c=a.alt||Ui(l),h=e.getImageURL(a);if(l||h){var u=document.createElement("li"),p=document.createElement("img");A(t.inheritedAttributes,function(f){var y=a.getAttribute(f);y!==null&&p.setAttribute(f,y)}),t.navbar&&(p.src=l||h),p.alt=c,p.setAttribute("data-original-url",h||l),u.setAttribute("data-index",o),u.setAttribute("data-viewer-action","view"),u.setAttribute("role","button"),t.keyboard&&u.setAttribute("tabindex",0),u.appendChild(p),n.appendChild(u),r.push(u)}}),this.items=r,A(r,function(a){var o=a.firstElementChild,l,c;Ue(o,"filled",!0),t.loading&&v(a,ue),b(o,U,l=function(u){z(o,ne,c),t.loading&&S(a,ue),e.loadImage(u)},{once:!0}),b(o,ne,c=function(){z(o,U,l),t.loading&&S(a,ue)},{once:!0})}),t.transition&&b(i,be,function(){v(n,C)},{once:!0})},renderList:function(){var e=this.index,i=this.items[e];if(i){var t=i.nextElementSibling,n=parseInt(window.getComputedStyle(t||i).marginLeft,10),r=i.offsetWidth,a=r+n;W(this.list,F({width:a*this.length-n},De({translateX:(this.viewerData.width-r)/2-a*e})))}},resetList:function(){var e=this.list;e.innerHTML="",S(e,C),W(e,De({translateX:0}))},initImage:function(e){var i=this,t=this.options,n=this.image,r=this.viewerData,a=this.footer.offsetHeight,o=r.width,l=Math.max(r.height-a,a),c=this.imageData||{},h;this.imageInitializing={abort:function(){h.onload=null}},h=Pt(n,t,function(u,p){var f=u/p,y=Math.max(0,Math.min(1,t.initialCoverage)),k=o,D=l;i.imageInitializing=!1,l*f>o?D=o/f:k=l*f,y=R(y)?y:.9,k=Math.min(k*y,u),D=Math.min(D*y,p);var w=(o-k)/2,_=(l-D)/2,E={left:w,top:_,x:w,y:_,width:k,height:D,oldRatio:1,ratio:k/u,aspectRatio:f,naturalWidth:u,naturalHeight:p},$=F({},E);t.rotatable&&(E.rotate=c.rotate||0,$.rotate=0),t.scalable&&(E.scaleX=c.scaleX||1,E.scaleY=c.scaleY||1,$.scaleX=1,$.scaleY=1),i.imageData=E,i.initialImageData=$,e&&e()})},renderImage:function(e){var i=this,t=this.image,n=this.imageData;if(W(t,F({width:n.width,height:n.height,marginLeft:n.x,marginTop:n.y},De(n))),e)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&ae(t,C)){var r=function(){i.imageRendering=!1,e()};this.imageRendering={abort:function(){z(t,B,r)}},b(t,B,r,{once:!0})}else e()},resetImage:function(){if(this.viewing||this.viewed){var e=this.image;this.viewing&&this.viewing.abort(),e.parentNode.removeChild(e),this.image=null}}},Yi={bind:function(){var e=this.options,i=this.viewer,t=this.canvas,n=this.element.ownerDocument;b(i,fe,this.onClick=this.click.bind(this)),b(i,et,this.onDragStart=this.dragstart.bind(this)),b(t,nt,this.onPointerDown=this.pointerdown.bind(this)),b(n,st,this.onPointerMove=this.pointermove.bind(this)),b(n,rt,this.onPointerUp=this.pointerup.bind(this)),b(n,it,this.onKeyDown=this.keydown.bind(this)),b(window,at,this.onResize=this.resize.bind(this)),e.zoomable&&e.zoomOnWheel&&b(i,ot,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleOnDblclick&&b(t,qe,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var e=this.options,i=this.viewer,t=this.canvas,n=this.element.ownerDocument;z(i,fe,this.onClick),z(i,et,this.onDragStart),z(t,nt,this.onPointerDown),z(n,st,this.onPointerMove),z(n,rt,this.onPointerUp),z(n,it,this.onKeyDown),z(window,at,this.onResize),e.zoomable&&e.zoomOnWheel&&z(i,ot,this.onWheel,{passive:!1,capture:!0}),e.toggleOnDblclick&&z(t,qe,this.onDblclick)}},Xi={click:function(e){var i=this.options,t=this.imageData,n=e.target,r=he(n,Oe);switch(!r&&n.localName==="img"&&n.parentElement.localName==="li"&&(n=n.parentElement,r=he(n,Oe)),ce&&e.isTrusted&&n===this.canvas&&clearTimeout(this.clickCanvasTimeout),r){case"mix":this.played?this.stop():i.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(he(n,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(i.loop);break;case"play":this.play(i.fullscreen);break;case"next":this.next(i.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-t.scaleX||-1);break;case"flip-vertical":this.scaleY(-t.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(e){e.preventDefault(),this.viewed&&e.target===this.image&&(ce&&e.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(e.isTrusted?e:e.detail&&e.detail.originalEvent))},load:function(){var e=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var i=this.element,t=this.options,n=this.image,r=this.index,a=this.viewerData;S(n,ve),t.loading&&S(this.canvas,ue),n.style.cssText="height:0;"+"margin-left:".concat(a.width/2,"px;")+"margin-top:".concat(a.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){xe(n,Ci,t.movable),xe(n,C,t.transition),e.renderImage(function(){e.viewed=!0,e.viewing=!1,T(t.viewed)&&b(i,be,t.viewed,{once:!0}),N(i,be,{originalImage:e.images[r],index:r,image:n},{cancelable:!1})})})},loadImage:function(e){var i=e.target,t=i.parentNode,n=t.offsetWidth||30,r=t.offsetHeight||50,a=!!he(i,"filled");Pt(i,this.options,function(o,l){var c=o/l,h=n,u=r;r*c>n?a?h=r*c:u=n/c:a?u=n/c:h=r*c,W(i,F({width:h,height:u},De({translateX:(n-h)/2,translateY:(r-u)/2})))})},keydown:function(e){var i=this.options;if(i.keyboard){var t=e.keyCode||e.which||e.charCode;switch(t){case 13:this.viewer.contains(e.target)&&this.click(e);break}if(this.fulled)switch(t){case 27:this.played?this.stop():i.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(i.loop);break;case 38:e.preventDefault(),this.zoom(i.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(i.loop);break;case 40:e.preventDefault(),this.zoom(-i.zoomRatio,!0);break;case 48:case 49:e.ctrlKey&&(e.preventDefault(),this.toggle());break}}},dragstart:function(e){e.target.localName==="img"&&e.preventDefault()},pointerdown:function(e){var i=this.options,t=this.pointers,n=e.buttons,r=e.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(R(n)&&n!==1||R(r)&&r!==0||e.ctrlKey))){e.preventDefault(),e.changedTouches?A(e.changedTouches,function(o){t[o.identifier]=Se(o)}):t[e.pointerId||0]=Se(e);var a=i.movable?Ie:!1;i.zoomOnTouch&&i.zoomable&&Object.keys(t).length>1?a=me:i.slideOnTouch&&(e.pointerType==="touch"||e.type==="touchstart")&&this.isSwitchable()&&(a=$t),i.transition&&(a===Ie||a===me)&&S(this.image,C),this.action=a}},pointermove:function(e){var i=this.pointers,t=this.action;!this.viewed||!t||(e.preventDefault(),this.pointerMoved=!0,e.changedTouches?A(e.changedTouches,function(n){F(i[n.identifier]||{},Se(n,!0))}):F(i[e.pointerId||0]||{},Se(e,!0)),this.change(e))},pointerup:function(e){var i=this,t=this.options,n=this.action,r=this.pointers,a;e.changedTouches?A(e.changedTouches,function(o){a=r[o.identifier],delete r[o.identifier]}):(a=r[e.pointerId||0],delete r[e.pointerId||0]),n&&(e.preventDefault(),t.transition&&(n===Ie||n===me)&&v(this.image,C),this.action=!1,ce&&n!==me&&a&&Date.now()-a.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),t.toggleOnDblclick&&this.viewed&&e.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){N(i.image,qe,{originalEvent:e})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){i.imageClicked=!1},500)):(this.imageClicked=!1,t.backdrop&&t.backdrop!=="static"&&e.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){N(i.canvas,fe,{originalEvent:e})},50)))))},resize:function(){var e=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}A(this.player.getElementsByTagName("img"),function(i){b(i,U,e.loadImage.bind(e),{once:!0}),N(i,U)})}},wheel:function(e){var i=this;if(this.viewed&&(e.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){i.wheeling=!1},50);var t=Number(this.options.zoomRatio)||.1,n=1;e.deltaY?n=e.deltaY>0?1:-1:e.wheelDelta?n=-e.wheelDelta/120:e.detail&&(n=e.detail>0?1:-1),this.zoom(-n*t,!0,null,e)}}},ji={show:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=this.element,t=this.options;if(t.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(e),this;if(T(t.show)&&b(i,ht,t.show,{once:!0}),N(i,ht)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var n=this.viewer;if(S(n,ie),n.setAttribute("role","dialog"),n.setAttribute("aria-labelledby",this.title.id),n.setAttribute("aria-modal",!0),n.removeAttribute("aria-hidden"),t.transition&&!e){var r=this.shown.bind(this);this.transitioning={abort:function(){z(n,B,r),S(n,q)}},v(n,C),n.initialOffsetWidth=n.offsetWidth,b(n,B,r,{once:!0}),v(n,q)}else v(n,q),this.shown();return this},hide:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.element,n=this.options;if(n.inline||this.hiding||!(this.isShown||this.showing))return this;if(T(n.hide)&&b(t,ut,n.hide,{once:!0}),N(t,ut)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var r=this.viewer,a=this.image,o=function(){S(r,q),e.hidden()};if(n.transition&&!i){var l=function h(u){u&&u.target===r&&(z(r,B,h),e.hidden())},c=function(){ae(r,C)?(b(r,B,l),S(r,q)):o()};this.transitioning={abort:function(){e.viewed&&ae(a,C)?z(a,B,c):ae(r,C)&&z(r,B,l)}},this.viewed&&ae(a,C)?(b(a,B,c,{once:!0}),this.zoomTo(0,!1,null,null,!0)):c()}else o();return this},view:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(i=Number(i)||0,this.hiding||this.played||i<0||i>=this.length||this.viewed&&i===this.index)return this;if(!this.isShown)return this.index=i,this.show();this.viewing&&this.viewing.abort();var t=this.element,n=this.options,r=this.title,a=this.canvas,o=this.items[i],l=o.querySelector("img"),c=he(l,"originalUrl"),h=l.getAttribute("alt"),u=document.createElement("img");if(A(n.inheritedAttributes,function(D){var w=l.getAttribute(D);w!==null&&u.setAttribute(D,w)}),u.src=c,u.alt=h,T(n.view)&&b(t,dt,n.view,{once:!0}),N(t,dt,{originalImage:this.images[i],index:i,image:u})===!1||!this.isShown||this.hiding||this.played)return this;var p=this.items[this.index];p&&(S(p,ye),p.removeAttribute("aria-selected")),v(o,ye),o.setAttribute("aria-selected",!0),n.focus&&o.focus(),this.image=u,this.viewed=!1,this.index=i,this.imageData={},v(u,ve),n.loading&&v(a,ue),a.innerHTML="",a.appendChild(u),this.renderList(),r.innerHTML="";var f=function(){var w=e.imageData,_=Array.isArray(n.title)?n.title[1]:n.title;r.innerHTML=Vi(T(_)?_.call(e,u,w):"".concat(h," (").concat(w.naturalWidth," × ").concat(w.naturalHeight,")"))},y,k;return b(t,be,f,{once:!0}),this.viewing={abort:function(){z(t,be,f),u.complete?e.imageRendering?e.imageRendering.abort():e.imageInitializing&&e.imageInitializing.abort():(u.src="",z(u,U,y),e.timeout&&clearTimeout(e.timeout))}},u.complete?this.load():(b(u,U,y=function(){z(u,ne,k),e.load()},{once:!0}),b(u,ne,k=function(){z(u,U,y),e.timeout&&(clearTimeout(e.timeout),e.timeout=!1),S(u,ve),n.loading&&S(e.canvas,ue)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){S(u,ve),e.timeout=!1},1e3)),this},prev:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=this.index-1;return i<0&&(i=e?this.length-1:0),this.view(i),this},next:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=this.length-1,t=this.index+1;return t>i&&(t=e?0:i),this.view(t),this},move:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,t=this.imageData;return this.moveTo(oe(e)?e:t.x+Number(e),oe(i)?i:t.y+Number(i)),this},moveTo:function(e){var i=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=this.element,a=this.options,o=this.imageData;if(e=Number(e),t=Number(t),this.viewed&&!this.played&&a.movable){var l=o.x,c=o.y,h=!1;if(R(e)?h=!0:e=l,R(t)?h=!0:t=c,h){if(T(a.move)&&b(r,pt,a.move,{once:!0}),N(r,pt,{x:e,y:t,oldX:l,oldY:c,originalEvent:n})===!1)return this;o.x=e,o.y=t,o.left=e,o.top=t,this.moving=!0,this.renderImage(function(){i.moving=!1,T(a.moved)&&b(r,gt,a.moved,{once:!0}),N(r,gt,{x:e,y:t,oldX:l,oldY:c,originalEvent:n},{cancelable:!1})})}}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e)),this},rotateTo:function(e){var i=this,t=this.element,n=this.options,r=this.imageData;if(e=Number(e),R(e)&&this.viewed&&!this.played&&n.rotatable){var a=r.rotate;if(T(n.rotate)&&b(t,mt,n.rotate,{once:!0}),N(t,mt,{degree:e,oldDegree:a})===!1)return this;r.rotate=e,this.rotating=!0,this.renderImage(function(){i.rotating=!1,T(n.rotated)&&b(t,vt,n.rotated,{once:!0}),N(t,vt,{degree:e,oldDegree:a},{cancelable:!1})})}return this},scaleX:function(e){return this.scale(e,this.imageData.scaleY),this},scaleY:function(e){return this.scale(this.imageData.scaleX,e),this},scale:function(e){var i=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=this.element,r=this.options,a=this.imageData;if(e=Number(e),t=Number(t),this.viewed&&!this.played&&r.scalable){var o=a.scaleX,l=a.scaleY,c=!1;if(R(e)?c=!0:e=o,R(t)?c=!0:t=l,c){if(T(r.scale)&&b(n,bt,r.scale,{once:!0}),N(n,bt,{scaleX:e,scaleY:t,oldScaleX:o,oldScaleY:l})===!1)return this;a.scaleX=e,a.scaleY=t,this.scaling=!0,this.renderImage(function(){i.scaling=!1,T(r.scaled)&&b(n,wt,r.scaled,{once:!0}),N(n,wt,{scaleX:e,scaleY:t,oldScaleX:o,oldScaleY:l},{cancelable:!1})})}}return this},zoom:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,r=this.imageData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(r.width*e/r.naturalWidth,i,t,n),this},zoomTo:function(e){var i=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=this.element,l=this.options,c=this.pointers,h=this.imageData,u=h.x,p=h.y,f=h.width,y=h.height,k=h.naturalWidth,D=h.naturalHeight;if(e=Math.max(0,e),R(e)&&this.viewed&&!this.played&&(a||l.zoomable)){if(!a){var w=Math.max(.01,l.minZoomRatio),_=Math.min(100,l.maxZoomRatio);e=Math.min(Math.max(e,w),_)}if(r)switch(r.type){case"wheel":l.zoomRatio>=.055&&e>.95&&e<1.05&&(e=1);break;case"pointermove":case"touchmove":case"mousemove":e>.99&&e<1.01&&(e=1);break}var E=k*e,$=D*e,L=E-f,O=$-y,V=h.ratio;if(T(l.zoom)&&b(o,xt,l.zoom,{once:!0}),N(o,xt,{ratio:e,oldRatio:V,originalEvent:r})===!1)return this;if(this.zooming=!0,r){var ee=qi(this.viewer),se=c&&Object.keys(c).length>0?Hi(c):{pageX:r.pageX,pageY:r.pageY};h.x-=L*((se.pageX-ee.left-u)/f),h.y-=O*((se.pageY-ee.top-p)/y)}else le(n)&&R(n.x)&&R(n.y)?(h.x-=L*((n.x-u)/f),h.y-=O*((n.y-p)/y)):(h.x-=L/2,h.y-=O/2);h.left=h.x,h.top=h.y,h.width=E,h.height=$,h.oldRatio=V,h.ratio=e,this.renderImage(function(){i.zooming=!1,T(l.zoomed)&&b(o,kt,l.zoomed,{once:!0}),N(o,kt,{ratio:e,oldRatio:V,originalEvent:r},{cancelable:!1})}),t&&this.tooltip()}return this},play:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var t=this.element,n=this.options;if(T(n.play)&&b(t,yt,n.play,{once:!0}),N(t,yt)===!1)return this;var r=this.player,a=this.loadImage.bind(this),o=[],l=0,c=0;if(this.played=!0,this.onLoadWhenPlay=a,i&&this.requestFullscreen(i),v(r,re),A(this.items,function(p,f){var y=p.querySelector("img"),k=document.createElement("img");k.src=he(y,"originalUrl"),k.alt=y.getAttribute("alt"),k.referrerPolicy=y.referrerPolicy,l+=1,v(k,Ae),xe(k,C,n.transition),ae(p,ye)&&(v(k,q),c=f),o.push(k),b(k,U,a,{once:!0}),r.appendChild(k)}),R(n.interval)&&n.interval>0){var h=function p(){clearTimeout(e.playing.timeout),S(o[c],q),c-=1,c=c>=0?c:l-1,v(o[c],q),e.playing.timeout=setTimeout(p,n.interval)},u=function p(){clearTimeout(e.playing.timeout),S(o[c],q),c+=1,c=c<l?c:0,v(o[c],q),e.playing.timeout=setTimeout(p,n.interval)};l>1&&(this.playing={prev:h,next:u,timeout:setTimeout(u,n.interval)})}return this},stop:function(){var e=this;if(!this.played)return this;var i=this.element,t=this.options;if(T(t.stop)&&b(i,_t,t.stop,{once:!0}),N(i,_t)===!1)return this;var n=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,A(n.getElementsByTagName("img"),function(r){z(r,U,e.onLoadWhenPlay)}),S(n,re),n.innerHTML="",this.exitFullscreen(),this},full:function(){var e=this,i=this.options,t=this.viewer,n=this.image,r=this.list;return!this.isShown||this.played||this.fulled||!i.inline?this:(this.fulled=!0,this.open(),v(this.button,Ge),i.transition&&(S(r,C),this.viewed&&S(n,C)),v(t,Fe),t.setAttribute("role","dialog"),t.setAttribute("aria-labelledby",this.title.id),t.setAttribute("aria-modal",!0),t.removeAttribute("style"),W(t,{zIndex:i.zIndex}),i.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=F({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){i.transition&&setTimeout(function(){v(n,C),v(r,C)},0)})}),this)},exit:function(){var e=this,i=this.options,t=this.viewer,n=this.image,r=this.list;return!this.isShown||this.played||!this.fulled||!i.inline?this:(this.fulled=!1,this.close(),S(this.button,Ge),i.transition&&(S(r,C),this.viewed&&S(n,C)),i.focus&&this.clearEnforceFocus(),t.removeAttribute("role"),t.removeAttribute("aria-labelledby"),t.removeAttribute("aria-modal"),S(t,Fe),W(t,{zIndex:i.zIndexInline}),this.viewerData=F({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){i.transition&&setTimeout(function(){v(n,C),v(r,C)},0)})}),this)},tooltip:function(){var e=this,i=this.options,t=this.tooltipBox,n=this.imageData;return!this.viewed||this.played||!i.tooltip?this:(t.textContent="".concat(Math.round(n.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):i.transition?(this.fading&&N(t,B),v(t,re),v(t,Ae),v(t,C),t.removeAttribute("aria-hidden"),t.initialOffsetWidth=t.offsetWidth,v(t,q)):(v(t,re),t.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){i.transition?(b(t,B,function(){S(t,re),S(t,Ae),S(t,C),t.setAttribute("aria-hidden",!0),e.fading=!1},{once:!0}),S(t,q),e.fading=!0):(S(t,re),t.setAttribute("aria-hidden",!0)),e.tooltipping=!1},1e3),this)},toggle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,null,e):this.zoomTo(1,!0,null,e),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=F({},this.initialImageData),this.renderImage()),this},update:function(){var e=this,i=this.element,t=this.options,n=this.isImg;if(n&&!i.parentNode)return this.destroy();var r=[];if(A(n?[i]:i.querySelectorAll("img"),function(c){T(t.filter)?t.filter.call(e,c)&&r.push(c):e.getImageURL(c)&&r.push(c)}),!r.length)return this;if(this.images=r,this.length=r.length,this.ready){var a=[];if(A(this.items,function(c,h){var u=c.querySelector("img"),p=r[h];p&&u?(p.src!==u.src||p.alt!==u.alt)&&a.push(h):a.push(h)}),W(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var o=a.indexOf(this.index);if(o>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-o,this.length-1),0));else{var l=this.items[this.index];v(l,ye),l.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var e=this.element,i=this.options;return e[x]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),i.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):i.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),i.inline||z(e,fe,this.onStart),e[x]=void 0,this):this}},Zi={getImageURL:function(e){var i=this.options.url;return we(i)?i=e.getAttribute(i):T(i)?i=i.call(this,e):i="",i},enforceFocus:function(){var e=this;this.clearEnforceFocus(),b(document,tt,this.onFocusin=function(i){var t=e.viewer,n=i.target;if(!(n===document||n===t||t.contains(n))){for(;n;){if(n.getAttribute("tabindex")!==null||n.getAttribute("aria-modal")==="true")return;n=n.parentElement}t.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(z(document,tt,this.onFocusin),this.onFocusin=null)},open:function(){var e=this.body;v(e,Je),this.scrollbarWidth>0&&(e.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var e=this.body;S(e,Je),this.scrollbarWidth>0&&(e.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var e=this.element,i=this.options,t=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,i.focus&&(t.focus(),this.enforceFocus()),T(i.shown)&&b(e,ct,i.shown,{once:!0}),N(e,ct)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var e=this.element,i=this.options,t=this.viewer;i.fucus&&this.clearEnforceFocus(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.close(),this.unbind(),v(t,ie),t.removeAttribute("role"),t.removeAttribute("aria-labelledby"),t.removeAttribute("aria-modal"),t.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.hiding=!1,this.destroyed||(T(i.hidden)&&b(e,ft,i.hidden,{once:!0}),N(e,ft,null,{cancelable:!1}))},requestFullscreen:function(e){var i=this.element.ownerDocument;if(this.fulled&&!(i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement)){var t=i.documentElement;t.requestFullscreen?le(e)?t.requestFullscreen(e):t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()}},exitFullscreen:function(){var e=this.element.ownerDocument;this.fulled&&(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},change:function(e){var i=this.options,t=this.pointers,n=t[Object.keys(t)[0]];if(n){var r=n.endX-n.startX,a=n.endY-n.startY;switch(this.action){case Ie:this.move(r,a,e);break;case me:this.zoom(Bi(t),!1,null,e);break;case $t:{this.action="switched";var o=Math.abs(r);o>1&&o>Math.abs(a)&&(this.pointers={},r>1?this.prev(i.loop):r<-1&&this.next(i.loop));break}}A(t,function(l){l.startX=l.endX,l.startY=l.endY})}},isSwitchable:function(){var e=this.imageData,i=this.viewerData;return this.length>1&&e.x>=0&&e.y>=0&&e.width<=i.width&&e.height<=i.height}},Qi=G.Viewer,Ki=function(s){return function(){return s+=1,s}}(-1),Mt=function(){function s(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(yi(this,s),!e||e.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=F({},Ke,le(i)&&i),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=Ki(),this.init()}return _i(s,[{key:"init",value:function(){var i=this,t=this.element,n=this.options;if(!t[x]){t[x]=this,n.focus&&!n.keyboard&&(n.focus=!1);var r=t.localName==="img",a=[];if(A(r?[t]:t.querySelectorAll("img"),function(c){T(n.filter)?n.filter.call(i,c)&&a.push(c):i.getImageURL(c)&&a.push(c)}),this.isImg=r,this.length=a.length,this.images=a,this.initBody(),oe(document.createElement(x).style.transition)&&(n.transition=!1),n.inline){var o=0,l=function(){if(o+=1,o===i.length){var h;i.initializing=!1,i.delaying={abort:function(){clearTimeout(h)}},h=setTimeout(function(){i.delaying=!1,i.build()},0)}};this.initializing={abort:function(){A(a,function(h){h.complete||(z(h,U,l),z(h,ne,l))})}},A(a,function(c){if(c.complete)l();else{var h,u;b(c,U,h=function(){z(c,ne,u),l()},{once:!0}),b(c,ne,u=function(){z(c,U,h),l()},{once:!0})}})}else b(t,fe,this.onStart=function(c){var h=c.target;h.localName==="img"&&(!T(n.filter)||n.filter.call(i,h))&&i.view(i.images.indexOf(h))})}}},{key:"build",value:function(){if(!this.ready){var i=this.element,t=this.options,n=i.parentNode,r=document.createElement("div");r.innerHTML=Ti;var a=r.querySelector(".".concat(x,"-container")),o=a.querySelector(".".concat(x,"-title")),l=a.querySelector(".".concat(x,"-toolbar")),c=a.querySelector(".".concat(x,"-navbar")),h=a.querySelector(".".concat(x,"-button")),u=a.querySelector(".".concat(x,"-canvas"));if(this.parent=n,this.viewer=a,this.title=o,this.toolbar=l,this.navbar=c,this.button=h,this.canvas=u,this.footer=a.querySelector(".".concat(x,"-footer")),this.tooltipBox=a.querySelector(".".concat(x,"-tooltip")),this.player=a.querySelector(".".concat(x,"-player")),this.list=a.querySelector(".".concat(x,"-list")),a.id="".concat(x).concat(this.id),o.id="".concat(x,"Title").concat(this.id),v(o,t.title?Ee(Array.isArray(t.title)?t.title[0]:t.title):ie),v(c,t.navbar?Ee(t.navbar):ie),xe(h,ie,!t.button),t.keyboard&&h.setAttribute("tabindex",0),t.backdrop&&(v(a,"".concat(x,"-backdrop")),!t.inline&&t.backdrop!=="static"&&Ue(u,Oe,"hide")),we(t.className)&&t.className&&t.className.split(We).forEach(function(E){v(a,E)}),t.toolbar){var p=document.createElement("ul"),f=le(t.toolbar),y=_e.slice(0,3),k=_e.slice(7,9),D=_e.slice(9);f||v(l,Ee(t.toolbar)),A(f?t.toolbar:_e,function(E,$){var L=f&&le(E),O=f?Ye($):E,V=L&&!oe(E.show)?E.show:E;if(!(!V||!t.zoomable&&y.indexOf(O)!==-1||!t.rotatable&&k.indexOf(O)!==-1||!t.scalable&&D.indexOf(O)!==-1)){var ee=L&&!oe(E.size)?E.size:E,se=L&&!oe(E.click)?E.click:E,j=document.createElement("li");t.keyboard&&j.setAttribute("tabindex",0),j.setAttribute("role","button"),v(j,"".concat(x,"-").concat(O)),T(se)||Ue(j,Oe,O),R(V)&&v(j,Ee(V)),["small","large"].indexOf(ee)!==-1?v(j,"".concat(x,"-").concat(ee)):O==="play"&&v(j,"".concat(x,"-large")),T(se)&&b(j,fe,se),p.appendChild(j)}}),l.appendChild(p)}else v(l,ie);if(!t.rotatable){var w=l.querySelectorAll('li[class*="rotate"]');v(w,ve),A(w,function(E){l.appendChild(E)})}if(t.inline)v(h,Ii),W(a,{zIndex:t.zIndexInline}),window.getComputedStyle(n).position==="static"&&W(n,{position:"relative"}),n.insertBefore(a,i.nextSibling);else{v(h,zi),v(a,Fe),v(a,Ae),v(a,ie),W(a,{zIndex:t.zIndex});var _=t.container;we(_)&&(_=i.ownerDocument.querySelector(_)),_||(_=this.body),_.appendChild(a)}if(t.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,T(t.ready)&&b(i,lt,t.ready,{once:!0}),N(i,lt)===!1){this.ready=!1;return}this.ready&&t.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=Qi,s}},{key:"setDefaults",value:function(i){F(Ke,le(i)&&i)}}]),s}();F(Mt.prototype,Wi,Yi,Xi,ji,Zi);const Gi={props:{state:{type:Object}},setup(s){var t;const e=((t=s.state.metaData)==null?void 0:t.banner)||{},i=Me();return Xt(()=>{Array.from(i.value.querySelectorAll("img")).forEach(n=>{n.addEventListener("click",r=>{const a=new Image;a.src=n.src;const o=new Mt(a,{hidden(){o.destroy()},title:!1,toolbar:!1});o.show()})})}),{postRef:i,banner:e}}},Ji={ref:"postRef",class:"post-content-container"},en={key:0,class:"content-banner"},tn=["src"],nn={key:0,class:"banner-description text-center text-16px opacity-1/2"},sn=["innerHTML"];function rn(s,e,i,t,n,r){return H(),K("div",Ji,[t.banner.imageUrl?(H(),K("div",en,[P("img",{src:t.banner.imageUrl,alt:""},null,8,tn),t.banner.description?(H(),K("div",nn,Z(t.banner.description),1)):ze("",!0)])):ze("",!0),i.state.contentHtml?(H(),K("div",{key:1,class:"content",innerHTML:i.state.contentHtml},null,8,sn)):ze("",!0)],512)}const an=$e(Gi,[["render",rn],["__scopeId","data-v-c1bf9e4d"]]);const Vt=s=>(Dt("data-v-382db52e"),s=s(),Rt(),s),on={class:"other-stories-container"},ln={class:"other-story"},hn=Vt(()=>P("div",{class:"title-en text-50px font-bold"},"OTHER STORIES",-1)),cn=Vt(()=>P("div",{class:"title-zh text-30px"},"你可能会感兴趣",-1)),un={class:"other-stories-swiper"},fn={class:"indicator"},dn={class:"text-18px font-bold"},pn={__name:"OtherStories",props:{currentId:String},setup(s){const e=s,i=Me(1),t={spaceBetween:60,effect:"cube",grabCursor:!0,loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},modules:[ri],slidesPerView:"auto",onSlideChange(l){i.value=l.realIndex+1}},n=(ai.highlight||[]).filter(l=>{const c=String(l.linkUrl);return new URLSearchParams(c.split("?")[1]).get("id")!==e.currentId}),r=Me();function a(l){r.value=l}function o(){r.value.slideNext()}return(l,c)=>(H(),K("div",on,[P("div",ln,[hn,cn,P("div",un,[P("img",{onClick:o,class:"left-arrow",src:ii,alt:""}),Q(ke(si),Zt({onSwiper:a},t),{default:Ce(()=>[(H(!0),K(Ct,null,jt(ke(n),h=>(H(),Ot(ke(ni),{key:h.title},{default:Ce(()=>[Q(oi,{item:h},null,8,["item"])]),_:2},1024))),128))]),_:1},16),P("div",fn,[P("span",dn,Z(i.value)+" / "+Z(ke(n).length),1)])])])]))}},gn=$e(pn,[["__scopeId","data-v-382db52e"]]);async function mn(s){return await li(`https://cdn.cheerdesign.org/posts/post-${s}/index.json`)}async function vn(s){return await(await fetch(s)).text()}function Ft(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let pe=Ft();function bn(s){pe=s}const qt=/[&<>"']/,wn=new RegExp(qt.source,"g"),Ut=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,xn=new RegExp(Ut.source,"g"),kn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Et=s=>kn[s];function M(s,e){if(e){if(qt.test(s))return s.replace(wn,Et)}else if(Ut.test(s))return s.replace(xn,Et);return s}const yn=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Bt(s){return s.replace(yn,(e,i)=>(i=i.toLowerCase(),i==="colon"?":":i.charAt(0)==="#"?i.charAt(1)==="x"?String.fromCharCode(parseInt(i.substring(2),16)):String.fromCharCode(+i.substring(1)):""))}const _n=/(^|[^\[])\^/g;function I(s,e){s=typeof s=="string"?s:s.source,e=e||"";const i={replace:(t,n)=>(n=n.source||n,n=n.replace(_n,"$1"),s=s.replace(t,n),i),getRegex:()=>new RegExp(s,e)};return i}const En=/[^\w:]/g,Sn=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function St(s,e,i){if(s){let t;try{t=decodeURIComponent(Bt(i)).replace(En,"").toLowerCase()}catch(n){return null}if(t.indexOf("javascript:")===0||t.indexOf("vbscript:")===0||t.indexOf("data:")===0)return null}e&&!Sn.test(i)&&(i=An(e,i));try{i=encodeURI(i).replace(/%25/g,"%")}catch(t){return null}return i}const Te={},Tn=/^[^:]+:\/*[^/]*$/,zn=/^([^:]+:)[\s\S]*$/,In=/^([^:]+:\/*[^/]*)[\s\S]*$/;function An(s,e){Te[" "+s]||(Tn.test(s)?Te[" "+s]=s+"/":Te[" "+s]=Re(s,"/",!0)),s=Te[" "+s];const i=s.indexOf(":")===-1;return e.substring(0,2)==="//"?i?e:s.replace(zn,"$1")+e:e.charAt(0)==="/"?i?e:s.replace(In,"$1")+e:s+e}const Ne={exec:function(){}};function Y(s){let e=1,i,t;for(;e<arguments.length;e++){i=arguments[e];for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&(s[t]=i[t])}return s}function Tt(s,e){const i=s.replace(/\|/g,(r,a,o)=>{let l=!1,c=a;for(;--c>=0&&o[c]==="\\";)l=!l;return l?"|":" |"}),t=i.split(/ \|/);let n=0;if(t[0].trim()||t.shift(),t.length>0&&!t[t.length-1].trim()&&t.pop(),t.length>e)t.splice(e);else for(;t.length<e;)t.push("");for(;n<t.length;n++)t[n]=t[n].trim().replace(/\\\|/g,"|");return t}function Re(s,e,i){const t=s.length;if(t===0)return"";let n=0;for(;n<t;){const r=s.charAt(t-n-1);if(r===e&&!i)n++;else if(r!==e&&i)n++;else break}return s.slice(0,t-n)}function Dn(s,e){if(s.indexOf(e[1])===-1)return-1;const i=s.length;let t=0,n=0;for(;n<i;n++)if(s[n]==="\\")n++;else if(s[n]===e[0])t++;else if(s[n]===e[1]&&(t--,t<0))return n;return-1}function Ht(s){s&&s.sanitize&&!s.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function zt(s,e){if(e<1)return"";let i="";for(;e>1;)e&1&&(i+=s),e>>=1,s+=s;return i+s}function It(s,e,i,t){const n=e.href,r=e.title?M(e.title):null,a=s[1].replace(/\\([\[\]])/g,"$1");if(s[0].charAt(0)!=="!"){t.state.inLink=!0;const o={type:"link",raw:i,href:n,title:r,text:a,tokens:t.inlineTokens(a)};return t.state.inLink=!1,o}return{type:"image",raw:i,href:n,title:r,text:M(a)}}function Rn(s,e){const i=s.match(/^(\s+)(?:```)/);if(i===null)return e;const t=i[1];return e.split(`
`).map(n=>{const r=n.match(/^\s+/);if(r===null)return n;const[a]=r;return a.length>=t.length?n.slice(t.length):n}).join(`
`)}class Xe{constructor(e){this.options=e||pe}space(e){const i=this.rules.block.newline.exec(e);if(i&&i[0].length>0)return{type:"space",raw:i[0]}}code(e){const i=this.rules.block.code.exec(e);if(i){const t=i[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:i[0],codeBlockStyle:"indented",text:this.options.pedantic?t:Re(t,`
`)}}}fences(e){const i=this.rules.block.fences.exec(e);if(i){const t=i[0],n=Rn(t,i[3]||"");return{type:"code",raw:t,lang:i[2]?i[2].trim().replace(this.rules.inline._escapes,"$1"):i[2],text:n}}}heading(e){const i=this.rules.block.heading.exec(e);if(i){let t=i[2].trim();if(/#$/.test(t)){const n=Re(t,"#");(this.options.pedantic||!n||/ $/.test(n))&&(t=n.trim())}return{type:"heading",raw:i[0],depth:i[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(e){const i=this.rules.block.hr.exec(e);if(i)return{type:"hr",raw:i[0]}}blockquote(e){const i=this.rules.block.blockquote.exec(e);if(i){const t=i[0].replace(/^ *>[ \t]?/gm,""),n=this.lexer.state.top;this.lexer.state.top=!0;const r=this.lexer.blockTokens(t);return this.lexer.state.top=n,{type:"blockquote",raw:i[0],tokens:r,text:t}}}list(e){let i=this.rules.block.list.exec(e);if(i){let t,n,r,a,o,l,c,h,u,p,f,y,k=i[1].trim();const D=k.length>1,w={type:"list",raw:"",ordered:D,start:D?+k.slice(0,-1):"",loose:!1,items:[]};k=D?`\\d{1,9}\\${k.slice(-1)}`:`\\${k}`,this.options.pedantic&&(k=D?k:"[*+-]");const _=new RegExp(`^( {0,3}${k})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(y=!1,!(!(i=_.exec(e))||this.rules.block.hr.test(e)));){if(t=i[0],e=e.substring(t.length),h=i[2].split(`
`,1)[0].replace(/^\t+/,$=>" ".repeat(3*$.length)),u=e.split(`
`,1)[0],this.options.pedantic?(a=2,f=h.trimLeft()):(a=i[2].search(/[^ ]/),a=a>4?1:a,f=h.slice(a),a+=i[1].length),l=!1,!h&&/^ *$/.test(u)&&(t+=u+`
`,e=e.substring(u.length+1),y=!0),!y){const $=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),L=new RegExp(`^ {0,${Math.min(3,a-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),O=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:\`\`\`|~~~)`),V=new RegExp(`^ {0,${Math.min(3,a-1)}}#`);for(;e&&(p=e.split(`
`,1)[0],u=p,this.options.pedantic&&(u=u.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(O.test(u)||V.test(u)||$.test(u)||L.test(e)));){if(u.search(/[^ ]/)>=a||!u.trim())f+=`
`+u.slice(a);else{if(l||h.search(/[^ ]/)>=4||O.test(h)||V.test(h)||L.test(h))break;f+=`
`+u}!l&&!u.trim()&&(l=!0),t+=p+`
`,e=e.substring(p.length+1),h=u.slice(a)}}w.loose||(c?w.loose=!0:/\n *\n *$/.test(t)&&(c=!0)),this.options.gfm&&(n=/^\[[ xX]\] /.exec(f),n&&(r=n[0]!=="[ ] ",f=f.replace(/^\[[ xX]\] +/,""))),w.items.push({type:"list_item",raw:t,task:!!n,checked:r,loose:!1,text:f}),w.raw+=t}w.items[w.items.length-1].raw=t.trimRight(),w.items[w.items.length-1].text=f.trimRight(),w.raw=w.raw.trimRight();const E=w.items.length;for(o=0;o<E;o++)if(this.lexer.state.top=!1,w.items[o].tokens=this.lexer.blockTokens(w.items[o].text,[]),!w.loose){const $=w.items[o].tokens.filter(O=>O.type==="space"),L=$.length>0&&$.some(O=>/\n.*\n/.test(O.raw));w.loose=L}if(w.loose)for(o=0;o<E;o++)w.items[o].loose=!0;return w}}html(e){const i=this.rules.block.html.exec(e);if(i){const t={type:"html",raw:i[0],pre:!this.options.sanitizer&&(i[1]==="pre"||i[1]==="script"||i[1]==="style"),text:i[0]};if(this.options.sanitize){const n=this.options.sanitizer?this.options.sanitizer(i[0]):M(i[0]);t.type="paragraph",t.text=n,t.tokens=this.lexer.inline(n)}return t}}def(e){const i=this.rules.block.def.exec(e);if(i){const t=i[1].toLowerCase().replace(/\s+/g," "),n=i[2]?i[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",r=i[3]?i[3].substring(1,i[3].length-1).replace(this.rules.inline._escapes,"$1"):i[3];return{type:"def",tag:t,raw:i[0],href:n,title:r}}}table(e){const i=this.rules.block.table.exec(e);if(i){const t={type:"table",header:Tt(i[1]).map(n=>({text:n})),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:i[3]&&i[3].trim()?i[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(t.header.length===t.align.length){t.raw=i[0];let n=t.align.length,r,a,o,l;for(r=0;r<n;r++)/^ *-+: *$/.test(t.align[r])?t.align[r]="right":/^ *:-+: *$/.test(t.align[r])?t.align[r]="center":/^ *:-+ *$/.test(t.align[r])?t.align[r]="left":t.align[r]=null;for(n=t.rows.length,r=0;r<n;r++)t.rows[r]=Tt(t.rows[r],t.header.length).map(c=>({text:c}));for(n=t.header.length,a=0;a<n;a++)t.header[a].tokens=this.lexer.inline(t.header[a].text);for(n=t.rows.length,a=0;a<n;a++)for(l=t.rows[a],o=0;o<l.length;o++)l[o].tokens=this.lexer.inline(l[o].text);return t}}}lheading(e){const i=this.rules.block.lheading.exec(e);if(i)return{type:"heading",raw:i[0],depth:i[2].charAt(0)==="="?1:2,text:i[1],tokens:this.lexer.inline(i[1])}}paragraph(e){const i=this.rules.block.paragraph.exec(e);if(i){const t=i[1].charAt(i[1].length-1)===`
`?i[1].slice(0,-1):i[1];return{type:"paragraph",raw:i[0],text:t,tokens:this.lexer.inline(t)}}}text(e){const i=this.rules.block.text.exec(e);if(i)return{type:"text",raw:i[0],text:i[0],tokens:this.lexer.inline(i[0])}}escape(e){const i=this.rules.inline.escape.exec(e);if(i)return{type:"escape",raw:i[0],text:M(i[1])}}tag(e){const i=this.rules.inline.tag.exec(e);if(i)return!this.lexer.state.inLink&&/^<a /i.test(i[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(i[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(i[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(i[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:i[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):M(i[0]):i[0]}}link(e){const i=this.rules.inline.link.exec(e);if(i){const t=i[2].trim();if(!this.options.pedantic&&/^</.test(t)){if(!/>$/.test(t))return;const a=Re(t.slice(0,-1),"\\");if((t.length-a.length)%2===0)return}else{const a=Dn(i[2],"()");if(a>-1){const l=(i[0].indexOf("!")===0?5:4)+i[1].length+a;i[2]=i[2].substring(0,a),i[0]=i[0].substring(0,l).trim(),i[3]=""}}let n=i[2],r="";if(this.options.pedantic){const a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);a&&(n=a[1],r=a[3])}else r=i[3]?i[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(this.options.pedantic&&!/>$/.test(t)?n=n.slice(1):n=n.slice(1,-1)),It(i,{href:n&&n.replace(this.rules.inline._escapes,"$1"),title:r&&r.replace(this.rules.inline._escapes,"$1")},i[0],this.lexer)}}reflink(e,i){let t;if((t=this.rules.inline.reflink.exec(e))||(t=this.rules.inline.nolink.exec(e))){let n=(t[2]||t[1]).replace(/\s+/g," ");if(n=i[n.toLowerCase()],!n){const r=t[0].charAt(0);return{type:"text",raw:r,text:r}}return It(t,n,t[0],this.lexer)}}emStrong(e,i,t=""){let n=this.rules.inline.emStrong.lDelim.exec(e);if(!n||n[3]&&t.match(new RegExp("[\\p{L}\\p{N}]","u")))return;const r=n[1]||n[2]||"";if(!r||r&&(t===""||this.rules.inline.punctuation.exec(t))){const a=n[0].length-1;let o,l,c=a,h=0;const u=n[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(u.lastIndex=0,i=i.slice(-1*e.length+a);(n=u.exec(i))!=null;){if(o=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!o)continue;if(l=o.length,n[3]||n[4]){c+=l;continue}else if((n[5]||n[6])&&a%3&&!((a+l)%3)){h+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+h);const p=e.slice(0,a+n.index+(n[0].length-o.length)+l);if(Math.min(a,l)%2){const y=p.slice(1,-1);return{type:"em",raw:p,text:y,tokens:this.lexer.inlineTokens(y)}}const f=p.slice(2,-2);return{type:"strong",raw:p,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(e){const i=this.rules.inline.code.exec(e);if(i){let t=i[2].replace(/\n/g," ");const n=/[^ ]/.test(t),r=/^ /.test(t)&&/ $/.test(t);return n&&r&&(t=t.substring(1,t.length-1)),t=M(t,!0),{type:"codespan",raw:i[0],text:t}}}br(e){const i=this.rules.inline.br.exec(e);if(i)return{type:"br",raw:i[0]}}del(e){const i=this.rules.inline.del.exec(e);if(i)return{type:"del",raw:i[0],text:i[2],tokens:this.lexer.inlineTokens(i[2])}}autolink(e,i){const t=this.rules.inline.autolink.exec(e);if(t){let n,r;return t[2]==="@"?(n=M(this.options.mangle?i(t[1]):t[1]),r="mailto:"+n):(n=M(t[1]),r=n),{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(e,i){let t;if(t=this.rules.inline.url.exec(e)){let n,r;if(t[2]==="@")n=M(this.options.mangle?i(t[0]):t[0]),r="mailto:"+n;else{let a;do a=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])[0];while(a!==t[0]);n=M(t[0]),t[1]==="www."?r="http://"+t[0]:r=t[0]}return{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e,i){const t=this.rules.inline.text.exec(e);if(t){let n;return this.lexer.state.inRawBlock?n=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):M(t[0]):t[0]:n=M(this.options.smartypants?i(t[0]):t[0]),{type:"text",raw:t[0],text:n}}}}const g={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Ne,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};g._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;g._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;g.def=I(g.def).replace("label",g._label).replace("title",g._title).getRegex();g.bullet=/(?:[*+-]|\d{1,9}[.)])/;g.listItemStart=I(/^( *)(bull) */).replace("bull",g.bullet).getRegex();g.list=I(g.list).replace(/bull/g,g.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+g.def.source+")").getRegex();g._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";g._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;g.html=I(g.html,"i").replace("comment",g._comment).replace("tag",g._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();g.paragraph=I(g._paragraph).replace("hr",g.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",g._tag).getRegex();g.blockquote=I(g.blockquote).replace("paragraph",g.paragraph).getRegex();g.normal=Y({},g);g.gfm=Y({},g.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});g.gfm.table=I(g.gfm.table).replace("hr",g.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",g._tag).getRegex();g.gfm.paragraph=I(g._paragraph).replace("hr",g.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",g.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",g._tag).getRegex();g.pedantic=Y({},g.normal,{html:I(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",g._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ne,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:I(g.normal._paragraph).replace("hr",g.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",g.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const d={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Ne,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Ne,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};d._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";d.punctuation=I(d.punctuation).replace(/punctuation/g,d._punctuation).getRegex();d.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;d.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;d._comment=I(g._comment).replace("(?:-->|$)","-->").getRegex();d.emStrong.lDelim=I(d.emStrong.lDelim).replace(/punct/g,d._punctuation).getRegex();d.emStrong.rDelimAst=I(d.emStrong.rDelimAst,"g").replace(/punct/g,d._punctuation).getRegex();d.emStrong.rDelimUnd=I(d.emStrong.rDelimUnd,"g").replace(/punct/g,d._punctuation).getRegex();d._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;d._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;d._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;d.autolink=I(d.autolink).replace("scheme",d._scheme).replace("email",d._email).getRegex();d._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;d.tag=I(d.tag).replace("comment",d._comment).replace("attribute",d._attribute).getRegex();d._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;d._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;d._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;d.link=I(d.link).replace("label",d._label).replace("href",d._href).replace("title",d._title).getRegex();d.reflink=I(d.reflink).replace("label",d._label).replace("ref",g._label).getRegex();d.nolink=I(d.nolink).replace("ref",g._label).getRegex();d.reflinkSearch=I(d.reflinkSearch,"g").replace("reflink",d.reflink).replace("nolink",d.nolink).getRegex();d.normal=Y({},d);d.pedantic=Y({},d.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:I(/^!?\[(label)\]\((.*?)\)/).replace("label",d._label).getRegex(),reflink:I(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",d._label).getRegex()});d.gfm=Y({},d.normal,{escape:I(d.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});d.gfm.url=I(d.gfm.url,"i").replace("email",d.gfm._extended_email).getRegex();d.breaks=Y({},d.gfm,{br:I(d.br).replace("{2,}","*").getRegex(),text:I(d.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Cn(s){return s.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function At(s){let e="",i,t;const n=s.length;for(i=0;i<n;i++)t=s.charCodeAt(i),Math.random()>.5&&(t="x"+t.toString(16)),e+="&#"+t+";";return e}class J{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||pe,this.options.tokenizer=this.options.tokenizer||new Xe,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const i={block:g.normal,inline:d.normal};this.options.pedantic?(i.block=g.pedantic,i.inline=d.pedantic):this.options.gfm&&(i.block=g.gfm,this.options.breaks?i.inline=d.breaks:i.inline=d.gfm),this.tokenizer.rules=i}static get rules(){return{block:g,inline:d}}static lex(e,i){return new J(i).lex(e)}static lexInline(e,i){return new J(i).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let i;for(;i=this.inlineQueue.shift();)this.inlineTokens(i.src,i.tokens);return this.tokens}blockTokens(e,i=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(o,l,c)=>l+"    ".repeat(c.length));let t,n,r,a;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(o=>(t=o.call({lexer:this},e,i))?(e=e.substring(t.raw.length),i.push(t),!0):!1))){if(t=this.tokenizer.space(e)){e=e.substring(t.raw.length),t.raw.length===1&&i.length>0?i[i.length-1].raw+=`
`:i.push(t);continue}if(t=this.tokenizer.code(e)){e=e.substring(t.raw.length),n=i[i.length-1],n&&(n.type==="paragraph"||n.type==="text")?(n.raw+=`
`+t.raw,n.text+=`
`+t.text,this.inlineQueue[this.inlineQueue.length-1].src=n.text):i.push(t);continue}if(t=this.tokenizer.fences(e)){e=e.substring(t.raw.length),i.push(t);continue}if(t=this.tokenizer.heading(e)){e=e.substring(t.raw.length),i.push(t);continue}if(t=this.tokenizer.hr(e)){e=e.substring(t.raw.length),i.push(t);continue}if(t=this.tokenizer.blockquote(e)){e=e.substring(t.raw.length),i.push(t);continue}if(t=this.tokenizer.list(e)){e=e.substring(t.raw.length),i.push(t);continue}if(t=this.tokenizer.html(e)){e=e.substring(t.raw.length),i.push(t);continue}if(t=this.tokenizer.def(e)){e=e.substring(t.raw.length),n=i[i.length-1],n&&(n.type==="paragraph"||n.type==="text")?(n.raw+=`
`+t.raw,n.text+=`
`+t.raw,this.inlineQueue[this.inlineQueue.length-1].src=n.text):this.tokens.links[t.tag]||(this.tokens.links[t.tag]={href:t.href,title:t.title});continue}if(t=this.tokenizer.table(e)){e=e.substring(t.raw.length),i.push(t);continue}if(t=this.tokenizer.lheading(e)){e=e.substring(t.raw.length),i.push(t);continue}if(r=e,this.options.extensions&&this.options.extensions.startBlock){let o=1/0;const l=e.slice(1);let c;this.options.extensions.startBlock.forEach(function(h){c=h.call({lexer:this},l),typeof c=="number"&&c>=0&&(o=Math.min(o,c))}),o<1/0&&o>=0&&(r=e.substring(0,o+1))}if(this.state.top&&(t=this.tokenizer.paragraph(r))){n=i[i.length-1],a&&n.type==="paragraph"?(n.raw+=`
`+t.raw,n.text+=`
`+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):i.push(t),a=r.length!==e.length,e=e.substring(t.raw.length);continue}if(t=this.tokenizer.text(e)){e=e.substring(t.raw.length),n=i[i.length-1],n&&n.type==="text"?(n.raw+=`
`+t.raw,n.text+=`
`+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):i.push(t);continue}if(e){const o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,i}inline(e,i=[]){return this.inlineQueue.push({src:e,tokens:i}),i}inlineTokens(e,i=[]){let t,n,r,a=e,o,l,c;if(this.tokens.links){const h=Object.keys(this.tokens.links);if(h.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(a))!=null;)h.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,o.index)+"["+zt("a",o[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.blockSkip.exec(a))!=null;)a=a.slice(0,o.index)+"["+zt("a",o[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(o=this.tokenizer.rules.inline.escapedEmSt.exec(a))!=null;)a=a.slice(0,o.index+o[0].length-2)+"++"+a.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(h=>(t=h.call({lexer:this},e,i))?(e=e.substring(t.raw.length),i.push(t),!0):!1))){if(t=this.tokenizer.escape(e)){e=e.substring(t.raw.length),i.push(t);continue}if(t=this.tokenizer.tag(e)){e=e.substring(t.raw.length),n=i[i.length-1],n&&t.type==="text"&&n.type==="text"?(n.raw+=t.raw,n.text+=t.text):i.push(t);continue}if(t=this.tokenizer.link(e)){e=e.substring(t.raw.length),i.push(t);continue}if(t=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(t.raw.length),n=i[i.length-1],n&&t.type==="text"&&n.type==="text"?(n.raw+=t.raw,n.text+=t.text):i.push(t);continue}if(t=this.tokenizer.emStrong(e,a,c)){e=e.substring(t.raw.length),i.push(t);continue}if(t=this.tokenizer.codespan(e)){e=e.substring(t.raw.length),i.push(t);continue}if(t=this.tokenizer.br(e)){e=e.substring(t.raw.length),i.push(t);continue}if(t=this.tokenizer.del(e)){e=e.substring(t.raw.length),i.push(t);continue}if(t=this.tokenizer.autolink(e,At)){e=e.substring(t.raw.length),i.push(t);continue}if(!this.state.inLink&&(t=this.tokenizer.url(e,At))){e=e.substring(t.raw.length),i.push(t);continue}if(r=e,this.options.extensions&&this.options.extensions.startInline){let h=1/0;const u=e.slice(1);let p;this.options.extensions.startInline.forEach(function(f){p=f.call({lexer:this},u),typeof p=="number"&&p>=0&&(h=Math.min(h,p))}),h<1/0&&h>=0&&(r=e.substring(0,h+1))}if(t=this.tokenizer.inlineText(r,Cn)){e=e.substring(t.raw.length),t.raw.slice(-1)!=="_"&&(c=t.raw.slice(-1)),l=!0,n=i[i.length-1],n&&n.type==="text"?(n.raw+=t.raw,n.text+=t.text):i.push(t);continue}if(e){const h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return i}}class je{constructor(e){this.options=e||pe}code(e,i,t){const n=(i||"").match(/\S*/)[0];if(this.options.highlight){const r=this.options.highlight(e,n);r!=null&&r!==e&&(t=!0,e=r)}return e=e.replace(/\n$/,"")+`
`,n?'<pre><code class="'+this.options.langPrefix+M(n)+'">'+(t?e:M(e,!0))+`</code></pre>
`:"<pre><code>"+(t?e:M(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,i,t,n){if(this.options.headerIds){const r=this.options.headerPrefix+n.slug(t);return`<h${i} id="${r}">${e}</h${i}>
`}return`<h${i}>${e}</h${i}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,i,t){const n=i?"ol":"ul",r=i&&t!==1?' start="'+t+'"':"";return"<"+n+r+`>
`+e+"</"+n+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,i){return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+i+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,i){const t=i.header?"th":"td";return(i.align?`<${t} align="${i.align}">`:`<${t}>`)+e+`</${t}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,i,t){if(e=St(this.options.sanitize,this.options.baseUrl,e),e===null)return t;let n='<a href="'+e+'"';return i&&(n+=' title="'+i+'"'),n+=">"+t+"</a>",n}image(e,i,t){if(e=St(this.options.sanitize,this.options.baseUrl,e),e===null)return t;let n=`<img src="${e}" alt="${t}"`;return i&&(n+=` title="${i}"`),n+=this.options.xhtml?"/>":">",n}text(e){return e}}class Wt{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,i,t){return""+t}image(e,i,t){return""+t}br(){return""}}class Yt{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,i){let t=e,n=0;if(this.seen.hasOwnProperty(t)){n=this.seen[e];do n++,t=e+"-"+n;while(this.seen.hasOwnProperty(t))}return i||(this.seen[e]=n,this.seen[t]=0),t}slug(e,i={}){const t=this.serialize(e);return this.getNextSafeSlug(t,i.dryrun)}}class X{constructor(e){this.options=e||pe,this.options.renderer=this.options.renderer||new je,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Wt,this.slugger=new Yt}static parse(e,i){return new X(i).parse(e)}static parseInline(e,i){return new X(i).parseInline(e)}parse(e,i=!0){let t="",n,r,a,o,l,c,h,u,p,f,y,k,D,w,_,E,$,L,O;const V=e.length;for(n=0;n<V;n++){if(f=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[f.type]&&(O=this.options.extensions.renderers[f.type].call({parser:this},f),O!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(f.type))){t+=O||"";continue}switch(f.type){case"space":continue;case"hr":{t+=this.renderer.hr();continue}case"heading":{t+=this.renderer.heading(this.parseInline(f.tokens),f.depth,Bt(this.parseInline(f.tokens,this.textRenderer)),this.slugger);continue}case"code":{t+=this.renderer.code(f.text,f.lang,f.escaped);continue}case"table":{for(u="",h="",o=f.header.length,r=0;r<o;r++)h+=this.renderer.tablecell(this.parseInline(f.header[r].tokens),{header:!0,align:f.align[r]});for(u+=this.renderer.tablerow(h),p="",o=f.rows.length,r=0;r<o;r++){for(c=f.rows[r],h="",l=c.length,a=0;a<l;a++)h+=this.renderer.tablecell(this.parseInline(c[a].tokens),{header:!1,align:f.align[a]});p+=this.renderer.tablerow(h)}t+=this.renderer.table(u,p);continue}case"blockquote":{p=this.parse(f.tokens),t+=this.renderer.blockquote(p);continue}case"list":{for(y=f.ordered,k=f.start,D=f.loose,o=f.items.length,p="",r=0;r<o;r++)_=f.items[r],E=_.checked,$=_.task,w="",_.task&&(L=this.renderer.checkbox(E),D?_.tokens.length>0&&_.tokens[0].type==="paragraph"?(_.tokens[0].text=L+" "+_.tokens[0].text,_.tokens[0].tokens&&_.tokens[0].tokens.length>0&&_.tokens[0].tokens[0].type==="text"&&(_.tokens[0].tokens[0].text=L+" "+_.tokens[0].tokens[0].text)):_.tokens.unshift({type:"text",text:L}):w+=L),w+=this.parse(_.tokens,D),p+=this.renderer.listitem(w,$,E);t+=this.renderer.list(p,y,k);continue}case"html":{t+=this.renderer.html(f.text);continue}case"paragraph":{t+=this.renderer.paragraph(this.parseInline(f.tokens));continue}case"text":{for(p=f.tokens?this.parseInline(f.tokens):f.text;n+1<V&&e[n+1].type==="text";)f=e[++n],p+=`
`+(f.tokens?this.parseInline(f.tokens):f.text);t+=i?this.renderer.paragraph(p):p;continue}default:{const ee='Token with "'+f.type+'" type was not found.';if(this.options.silent){console.error(ee);return}else throw new Error(ee)}}}return t}parseInline(e,i){i=i||this.renderer;let t="",n,r,a;const o=e.length;for(n=0;n<o;n++){if(r=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]&&(a=this.options.extensions.renderers[r.type].call({parser:this},r),a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type))){t+=a||"";continue}switch(r.type){case"escape":{t+=i.text(r.text);break}case"html":{t+=i.html(r.text);break}case"link":{t+=i.link(r.href,r.title,this.parseInline(r.tokens,i));break}case"image":{t+=i.image(r.href,r.title,r.text);break}case"strong":{t+=i.strong(this.parseInline(r.tokens,i));break}case"em":{t+=i.em(this.parseInline(r.tokens,i));break}case"codespan":{t+=i.codespan(r.text);break}case"br":{t+=i.br();break}case"del":{t+=i.del(this.parseInline(r.tokens,i));break}case"text":{t+=i.text(r.text);break}default:{const l='Token with "'+r.type+'" type was not found.';if(this.options.silent){console.error(l);return}else throw new Error(l)}}}return t}}function m(s,e,i){if(typeof s>"u"||s===null)throw new Error("marked(): input parameter is undefined or null");if(typeof s!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(s)+", string expected");if(typeof e=="function"&&(i=e,e=null),e=Y({},m.defaults,e||{}),Ht(e),i){const n=e.highlight;let r;try{r=J.lex(s,e)}catch(l){return i(l)}const a=function(l){let c;if(!l)try{e.walkTokens&&m.walkTokens(r,e.walkTokens),c=X.parse(r,e)}catch(h){l=h}return e.highlight=n,l?i(l):i(null,c)};if(!n||n.length<3||(delete e.highlight,!r.length))return a();let o=0;m.walkTokens(r,function(l){l.type==="code"&&(o++,setTimeout(()=>{n(l.text,l.lang,function(c,h){if(c)return a(c);h!=null&&h!==l.text&&(l.text=h,l.escaped=!0),o--,o===0&&a()})},0))}),o===0&&a();return}function t(n){if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+M(n.message+"",!0)+"</pre>";throw n}try{const n=J.lex(s,e);if(e.walkTokens){if(e.async)return Promise.all(m.walkTokens(n,e.walkTokens)).then(()=>X.parse(n,e)).catch(t);m.walkTokens(n,e.walkTokens)}return X.parse(n,e)}catch(n){t(n)}}m.options=m.setOptions=function(s){return Y(m.defaults,s),bn(m.defaults),m};m.getDefaults=Ft;m.defaults=pe;m.use=function(...s){const e=m.defaults.extensions||{renderers:{},childTokens:{}};s.forEach(i=>{const t=Y({},i);if(t.async=m.defaults.async||t.async,i.extensions&&(i.extensions.forEach(n=>{if(!n.name)throw new Error("extension name required");if(n.renderer){const r=e.renderers[n.name];r?e.renderers[n.name]=function(...a){let o=n.renderer.apply(this,a);return o===!1&&(o=r.apply(this,a)),o}:e.renderers[n.name]=n.renderer}if(n.tokenizer){if(!n.level||n.level!=="block"&&n.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");e[n.level]?e[n.level].unshift(n.tokenizer):e[n.level]=[n.tokenizer],n.start&&(n.level==="block"?e.startBlock?e.startBlock.push(n.start):e.startBlock=[n.start]:n.level==="inline"&&(e.startInline?e.startInline.push(n.start):e.startInline=[n.start]))}n.childTokens&&(e.childTokens[n.name]=n.childTokens)}),t.extensions=e),i.renderer){const n=m.defaults.renderer||new je;for(const r in i.renderer){const a=n[r];n[r]=(...o)=>{let l=i.renderer[r].apply(n,o);return l===!1&&(l=a.apply(n,o)),l}}t.renderer=n}if(i.tokenizer){const n=m.defaults.tokenizer||new Xe;for(const r in i.tokenizer){const a=n[r];n[r]=(...o)=>{let l=i.tokenizer[r].apply(n,o);return l===!1&&(l=a.apply(n,o)),l}}t.tokenizer=n}if(i.walkTokens){const n=m.defaults.walkTokens;t.walkTokens=function(r){let a=[];return a.push(i.walkTokens.call(this,r)),n&&(a=a.concat(n.call(this,r))),a}}m.setOptions(t)})};m.walkTokens=function(s,e){let i=[];for(const t of s)switch(i=i.concat(e.call(m,t)),t.type){case"table":{for(const n of t.header)i=i.concat(m.walkTokens(n.tokens,e));for(const n of t.rows)for(const r of n)i=i.concat(m.walkTokens(r.tokens,e));break}case"list":{i=i.concat(m.walkTokens(t.items,e));break}default:m.defaults.extensions&&m.defaults.extensions.childTokens&&m.defaults.extensions.childTokens[t.type]?m.defaults.extensions.childTokens[t.type].forEach(function(n){i=i.concat(m.walkTokens(t[n],e))}):t.tokens&&(i=i.concat(m.walkTokens(t.tokens,e)))}return i};m.parseInline=function(s,e){if(typeof s>"u"||s===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof s!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(s)+", string expected");e=Y({},m.defaults,e||{}),Ht(e);try{const i=J.lexInline(s,e);return e.walkTokens&&m.walkTokens(i,e.walkTokens),X.parseInline(i,e)}catch(i){if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+M(i.message+"",!0)+"</pre>";throw i}};m.Parser=X;m.parser=X.parse;m.Renderer=je;m.TextRenderer=Wt;m.Lexer=J;m.lexer=J.lex;m.Tokenizer=Xe;m.Slugger=Yt;m.parse=m;m.options;m.setOptions;m.use;m.walkTokens;m.parseInline;const On=m;X.parse;J.lex;const Nn={components:{Nav:Qt,PageFooter:Kt,PostHead:ki,PostContent:an,OtherStories:gn},props:{id:{type:String}},async setup(s){const i=new URLSearchParams(location.search).get("id");i||(location.href=Gt.HOME);const t={};t.metaData=await mn(i);const n=await vn(t.metaData.contentUrl);return t.contentHtml=On(n)||"",{state:t,id:i}}},$n={class:"post-container"};function Ln(s,e,i,t,n,r){const a=ge("Nav"),o=ge("PostHead"),l=ge("PostContent"),c=ge("OtherStories"),h=ge("PageFooter");return H(),K(Ct,null,[P("div",$n,[Q(a),Q(o,{state:t.state},null,8,["state"]),Q(l,{state:t.state},null,8,["state"]),Q(c,{"current-id":t.id},null,8,["current-id"])]),Q(h)],64)}const Pn=$e(Nn,[["render",Ln],["__scopeId","data-v-8032a8c4"]]),Mn={__name:"App",setup(s){return(e,i)=>(H(),Ot(Jt,null,{fallback:Ce(()=>[Q(ei)]),default:Ce(()=>[Q(Pn)]),_:1}))}};ti(Mn).mount("#app");export{Vn as __vite_legacy_guard};
